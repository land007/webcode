[unix_http_server]
file=/tmp/supervisor.sock
chmod=0770
chown=root:ubuntu

[supervisord]
nodaemon=true
logfile=/tmp/supervisord.log

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[program:xvnc]
command=Xtigervnc :1 -geometry %(ENV_VNC_RESOLUTION)s -depth 24 -rfbauth /home/ubuntu/.vnc/passwd -rfbport 10005 -pn -SecurityTypes VncAuth
user=ubuntu
autostart=true
autorestart=true
priority=100
stdout_logfile=/tmp/xvnc_stdout.log
stderr_logfile=/tmp/xvnc_stderr.log

[program:desktop]
command=/home/ubuntu/.xsession
environment=DISPLAY=":1",HOME="/home/ubuntu"
user=ubuntu
autostart=true
autorestart=true
priority=200
stdout_logfile=/tmp/desktop_stdout.log
stderr_logfile=/tmp/desktop_stderr.log

[program:novnc]
command=/opt/noVNC/utils/novnc_proxy --vnc localhost:10005 --listen 10004
user=ubuntu
autostart=true
autorestart=true
priority=100

[include]
files = /etc/supervisor/conf.d/supervisor-theia.conf /etc/supervisor/conf.d/supervisor-vibe-kanban.conf /etc/supervisor/conf.d/supervisor-openclaw.conf /etc/supervisor/conf.d/supervisor-dashboard.conf /etc/supervisor/conf.d/supervisor-cloudflared.conf /etc/supervisor/conf.d/supervisor-analytics.conf /etc/supervisor/conf.d/supervisor-audio.conf /etc/supervisor/conf.d/supervisor-dind.conf
